

# Hi-Fi Rush 모작 팀 포트폴리오 프로젝트
 **프로젝트 기간** 
 : 2024.09 ~ 2024.11
 
 **담당 파트**
 : (팀장) 플레이어, Mimosa 보스 담당
-  [포트폴리오 팀 영상](https://youtu.be/rwTkUgP4ITA)
-  [포트폴리오 개인 영상](https://www.youtube.com/watch?v=s1WKke9D8nY) 

# 1. 개발 내역

### 1-1. 플레이어

- **이동 방식**
  
  - 플레이어의 이동 방식은 입력한 방향키에 따라 카메라를 기준으로한 방향벡터를 사용하여 8방향으로 이동할 수 있게 구현했습니다.

  - 현재 이동중인 방향과 입력된 방향이 다를 경우에는 플레이어의 현재 Look 벡터와 입력된 Look 벡터를 내적하여 각도를 구한 후,  
    외적하여 양수가 나올경우 시계방향 회전, 음수가 나올 경우 반시계 방향으로 회전 방향을 설정합니다.   
    회전 방향이 결정되면 Y축 회전을 0.1초 안에 시행하여 플레이어 모델이 회전하게끔 구현했습니다.


- **점프 및 공중상태**

  - 플레이어는 지상 상태일 경우 중력의 영향을 받지 않으나 공중에 있을 경우 중력의 영향을 받게 구현했습니다.   
    객체별 중력 가속도 및 중력 가속의 한계를 설정할 수 있습니다.

  - 점프 키 입력시 중력을 해제하고 플레이어의 Y축 방향으로 애니메이션 진행동안 매 프레임 감소하는 속도를 부여하여 점프를 구현했습니다
 
  - 점프 애니메이션이 끝난 경우 공중 상태에 진입하고 중력을 다시 적용합니다.
 
  - 공중 상태에서 지형과 플레이어의 하단 충돌이 일어날 경우 착지 상태로 진입하며 중력을 해제하고 중력 가속도를 초기화합니다.

  - 점프 및 공중 상태에서 이동시에는 기존의 이동과 다른 공중이동 상태를 적용해 이동하는 속도를 낮게 조정하였습니다.


- **애니메이션**

  - Hi-Fi Rush 게임에서 플레이어의 애니메이션은 항상 BGM의 BPM에 연동되어 동작합니다.   
    해당 기능을 구현하기 위해서 애니메이션 개별마다
    종료되는 BPM 길이를 설정하여 어떤 BGM이 배정되어도 항상 같은 BPM에 동작이 끝나게 구현했습니다.

  - 애니메이션의 선형보간을 적용했습니다.   
    공격 애니메이션들의 보간을 하는 과정은 BPM에 연동되어 동작하게 구현하기 위해, 공격 모션마다 다음 공격으로 넘어가는 KeyFrame을 지정하여 해당하는 KeyFrame에서
    다음 공격 애니메이션으로 넘어가게 구현했습니다.
    
### 1-2. PhysX

- **CCT(Character Controller)**
  
  - CCT를 사용한 캡슐형 PhsyX Collider를 바탕으로 플레이어와 몬스터의 상호충돌 및 지형충돌을 구현했습니다.   
  - CCT기능을 필요한 객체에게 부여 할 수 있도록 Component화 하여 충돌이 필요한 객체들에게 적용할 수 있게끔 구현했습니다.   
  - 충돌식별이 필요한 객체들의 경우 PhysX Actor Name을 설정하여, 충돌시 Name 을 반환받아 객체별 처리를 용이하게 구현했습니다.   
  
- **PhysX Visual Debuger**
  
  - 효과적인 PhsyX 디버깅을 하기 위해 PhysX Visual Debuger를 사용한 실시간 충돌 정보를 시각적으로 확인하며 디버깅했습니다.


- **Raycast, Sweep**
  
  - 객체의 충돌 상태를 확인하기 위해 PhsyX Raycast, Sweep을 사용해 충돌 여부를 반환받아 충돌 상태처리를 구현했습니다.
  
  - 플레이어가 아주 조금만이라도 공중에 떠 있을경우에도 공중 상태에 진입하는것을 막기 위해 플레이어의 -Y축을 Direction 으로 설정한 Raycast를 통해
  일정한 거리 이내일 경우에는 공중 상태에 진입하지 않게 처리했습니다.
  
  - 투사체들이 벽 또는 다른 객체에 충돌여부를 반환받기 위해 Sweep을 사용했습니다, 투사체의 이동 방향을 Direction으로 설정하고 매 프레임 현재 속도를 입력하여
  투사체의 충돌 여부를 반환받고, 충돌시에는 충돌한 대상에 따른 개별 처리를 구현했습니다.

  
